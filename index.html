<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>GetCyfa</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">

<link rel="stylesheet" href="css/main.css">

</head>

<body>

<section class="feature">
  <div class="container">

        <div class="row center-align">
          <img src="assets/ic-logo.png" alt="..." class="center">
        </div>

<div id="form_space">
     <div class="row hi">
            <h4>Hi There! <br> Please Enter your Details Here!</h4>
        </div>

    <form id="form_Data">
      <div class="row">
        <div class="input-field col s12">
          <input placeholder="Jane Doe" id="first_name" type="text" class="validate" name="username">
          <label for="Your Name">Your Name</label>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <input id="profession" type="text" class="validate" name="prof">
          <label for="Profession">Your Profession</label>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <input id="email" type="email" class="validate" name="email">
          <label for="email">Email</label>
          <span class="helper-text" data-error="wrong" data-success="right">We will never share your email with anyone.</span>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <input id="mobile" type="tel" name="phoneNumber">
          <label for="mobile number">Your Mobile Number</label>
        </div>
      </div>

      <div class="row">
      <div class="col s12">
        <select name="gender">
          <option value="" disabled selected>I identify as</option>
          <option value="1">Male</option>
          <option value="2">Female</option>
          <option value="3">Other</option>
        </select>
      </div>
    </div>

    <div class="row right-align">
      <div id="open">
        <button id="submit_data" class="btn waves-red" type="submit" name="action">Submit
        </button>

        <button class="btn waves-red" type="submit" name="action">Send to Server
        </button>
      </div>
    </div>

    </form>
</div>

  </div>


</section>

<section id="thankYou" class="center-align popup-overlay">
  <div class="popup-content">

  <div class="thanks">
    <img src="assets/tenkew.png">
  </div>

  <div class="row">
      <div class="">
        <button id="okay_button" class="close btn waves-red" type="submit" name="action">Okay
        </button>
      </div>
    </div>
  </div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>


<script>

  // Form Select

  $(document).ready(function(){
    $('select').formSelect();
    $("#thankYou").hide();
  });

$("#submit_data").click(function(){
  $("#form_space").hide();
  $("#thankYou").show();
})

$("#okay_button").click(function(){
$("#thankYou").hide();
 $("#form_space").show();
})

</script>

 <script>

      $('form').submit(function(event){
        event.preventDefault();

      //Stores form data from page in array
       let data=  $(this).serializeArray();

      let finalData ={}; //Final user data object
      let lData = []; //local storage array object

      //Loops through each input obtained from the form
      data.forEach(function(item){
        finalData[item.name] = item.value;
      })

      //Stores or appends information to localstorage object
      //If no "data" localStorage object exists, create a new one
      if(localStorage.getItem("data")=== null){
        lData.push(finalData);
        localStorage.data =JSON.stringify(lData);
      }

      //If "data" localStorage object exists, append info
      else{
        //Pulls data from localStorage in JSON format
        lData = JSON.parse(localStorage.data);
        lData.push(finalData);
        localStorage.data = JSON.stringify(lData);
      }

      //Resets form data
      document.getElementById("form_Data").reset();

      });

    </script>
</body>

</html>
